 # C++ vs Cocos引擎对比

## 项目结构

### C++项目
```
TutorialZero_3/
├── main.cpp              # 主程序
├── player.h/cpp          # 玩家类
├── enemy.h/cpp           # 敌人类  
├── bullet.h/cpp          # 子弹类
├── animation.h/cpp       # 动画系统
├── atlas.h/cpp           # 图集管理
└── resources/            # 资源文件
```

### Cocos项目
```
assets/
├── Script/               # 脚本文件
├── Scene/                # 场景文件
├── Prefab/               # 预制体
├── Animation_Clip/       # 动画片段
└── Sprite_Atlas/         # 精灵图集
```

## Cocos引擎提供的便利功能

### 1. 组件系统
**C++**: 需要手动实现所有功能
```cpp
class Player {
    POINT position;
    Animation* anim_left;
    void ProcessEvent(const ExMessage& msg);
    void Move();
    void Draw(int delta);
};
```

**Cocos**: 使用组件组合，专注游戏逻辑
```typescript
@ccclass('Player')
export class Player extends Component {
    update(deltaTime: number) {
        this.move(deltaTime);
        this.updateAnimation();
    }
}
```

### 2. 物理系统
**C++**: 手动实现碰撞检测
```cpp
bool Enemy::CheckBulletCollision(const Bullet& bullet) {
    int dx = position.x - bullet.position.x;
    int dy = position.y - bullet.position.y;
    return sqrt(dx*dx + dy*dy) < (FRAME_WIDTH/2 + bullet.RADIUS);
}
```

**Cocos**: 引擎自动处理碰撞
```typescript
onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D) {
    if (otherCollider.tag === 3) { // 子弹
        this._shouldDeactivate = true;
    }
}
```

### 3. 动画系统
**C++**: 手动管理动画帧
```cpp
class Animation {
    int timer = 0;
    int idx_frame = 0;
    void Play(int x, int y, int delta);
};
```

**Cocos**: 引擎自动处理动画
```typescript
this.anim.play(this.facingLeft ? 'player_left' : 'player_right');
```

### 4. 输入系统
**C++**: 处理Windows消息
```cpp
void Player::ProcessEvent(const ExMessage& msg) {
    switch (msg.message) {
        case WM_KEYDOWN:
            switch (msg.vkcode) {
                case VK_UP: is_move_up = true; break;
            }
    }
}
```

**Cocos**: 统一输入系统
```typescript
input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this);

private onKeyDown(event: EventKeyboard) {
    switch (event.keyCode) {
        case KeyCode.ARROW_UP: this.isMoveUp = true; break;
    }
}
```

### 5. 场景管理
**C++**: 手动管理游戏状态
```cpp
while (g_running) {
    if (g_isGameStarted) {
        // 游戏逻辑
    } else {
        // 菜单逻辑
    }
}
```

**Cocos**: 引擎场景系统
```typescript
director.loadScene('MainScene');
```

### 6. 预制体系统
**C++**: 手动创建对象
```cpp
std::vector<Enemy*> enemy_list;
Enemy* enemy = new Enemy();
enemy_list.push_back(enemy);
```

**Cocos**: 预制体复用
```typescript
const enemyNode: Node = instantiate(this.enemyPrefab);
this.node.addChild(enemyNode);
```

### 7. 渲染系统
**C++**: 手动绘制
```cpp
void Player::Draw(int delta) {
    putimage(position.x, position.y, &img_shadow);
    anim_left->Play(position.x, position.y, delta);
}
```

**Cocos**: 引擎自动渲染
```typescript
this.node.setPosition(newPos);
this.anim.play('player_left');
```

